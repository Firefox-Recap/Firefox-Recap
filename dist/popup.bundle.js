(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("history-list");function n(){browser.storage.local.get(["historyData"]).then((function(n){var o=n.historyData||[];if(t.innerHTML="",0!==o.length){var e={};o.forEach((function(t){var n;try{n=new URL(t.url).hostname}catch(o){n=t.url}e[n]||(e[n]={domain:n,category:t.category||"Uncategorized",visitCount:0}),e[n].visitCount++})),Object.values(e).sort((function(t,n){return t.domain.localeCompare(n.domain)})).forEach((function(n){var o=document.createElement("li");o.innerHTML="\n                    <strong>".concat(n.domain,"</strong> \n                    (").concat(n.visitCount," visits) \n                    - <em>").concat(n.category,"</em>\n                "),t.appendChild(o)}))}else t.innerHTML="<li>No history available.</li>"})).catch((function(t){return console.error("‚ùå Error fetching history:",t)}))}n(),browser.storage.onChanged.addListener((function(t,o){"local"===o&&t.historyData&&n()}))}))})();